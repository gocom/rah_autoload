h1. rah_autoload

p. "Packagist":https://packagist.org/packages/rah/rah_autoload | "Twitter":http://twitter.com/gocom | "GitHub":https://github.com/gocom/rah_autoload | "Donate":http://rahforum.biz/donate/rah_autoload

p. This "Textpattern CMS":http://textpattern.com plugin loads the autoload file generated by "Composer":http://getcomposer.org dependency manager. Fits well together with "textpattern/installer":https://packagist.org/packages/textpattern/installer and "textpattern/lock":https://packagist.org/packages/textpattern/installer to complete the Textpattern and Composer integration. This plugin removes any need to manually import the autoload file, and allows plugins access their dependencies.

h2. Installing

p. Using "Composer":http://getcomposer.org:

bc. $ composer.phar require rah/rah_autoload

h2. Using in your plugins

p. To use rah_autoload with your Composer distributed plugins, just add it as a dependency to your @composer.json@:

bc. {
	"require": {
		"rah/rah_autoload": "*"
	}
}

p. And that's it. Rah_autoload gets installed with your plugin, the autoload file is loaded in Textpattern and you can access your dependencies.

h2. Invoking the autoloader

p. The plugin and autoloader is invoked automatically as long as the plugin is enabled, but the autoloader can be invoked manually too, once installed. Normally this isn't required, but if you want to make sure autoloader is initialized before you try to access your dependencies, you may invoke the plugin by our own in your plugin.

p. You will be able to invoke the autoloader like any other plugin using Textpattern's native plugin management functions such as @load_plugin()@ and @require_plugin()@. You don't need to do anything other than load the plugin.

bc. load_plugin('rah_autoload', true);

p. The above will initialize the autoloader as long as its installed, regardless of its type or status. The plugin and autoloader is initialized only once. Subsequent load and require statements don't have any impact or eat resources. This basically means you can safely "spam" the @load_plugin()@ when ever you need an autoloader or class maps generated by Composer.

h2. Preferences

p. rah_autoload offers few additional preferences the end-user can use to configure the plugin. While the main premise is to import autoload files automatically, additional configuration is possible. These preferences allow disabling searching to save resources and instead manually define the imported autoload files. The preferences can be found from Textpattern's native Preferences panel. The following options are available.

h3. Path to imported files (comma-separated)

p. Comma-separated list of imported autoload, or other PHP, files. This setting can be used in addition to the automatic autoload searching, or to replace it. All paths defined, are relative to the Textpattern installation directory, (e.g. @/textpattern@). Example path list could look something like this:

bc. ../../../assets/vendor/autoload.php, ../path/to/custom/lib.php

h3. Search for Composer autoload files?

p. If set to _No_, rah_autoload doesn't automatically include Composer's autoload files. This preference can be used to save resources if Composer's vendor directory is not located in the default location; the same directory as where Textpattern is installed to (e.g. the directory that contains @textpattern@ directory and the main @index.php@ file). When its elsewhere, searching takes more time.

p. If Composer's vendor directory is in the default location, disabling searching doesn't offer huge benefit. Manual importing using the above _Path to imported files_ option and automatic importing perform the same.

h2. Legacy PHP support

p. rah_autoload can offer PHP 5.2 support too. When the plugin is run on PHP 5.2 platform, it looks for autoloader files generated by "/xrstf/composer-php52":https://packagist.org/packages/xrstf/composer-php52 package. This can offer you help if you are planning of migrating to newer PHP version, and are still working getting all your dependencies and software to PHP 5.3+ compatible state.

h2. Changelog

h3. Version 0.2.0 - 2013/05/20

* Added: Can load PHP 5.2.0 autoloader files generated by "/xrstf/composer-php52":https://packagist.org/packages/xrstf/composer-php52.
* Added: Preferences that let you manually configure the imported autoload files, and disable searching.

h3. Version 0.1.0 - 2013/05/08

* Initial release.